/*!
 * Copyright 2011-2012 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 */
var requirejs,require,define;(function(a){function g(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d===".."){if(c===1&&(a[2]===".."||a[0]===".."))break;c>0&&(a.splice(c-1,2),c-=2)}a=a.join("/")}return a}function h(b,c){return function(){return f.apply(a,d.call(arguments,0).concat([b,c]))}}function i(a){return function(b){return g(b,a)}}function j(a){return function(c){b[a]=c}}function k(d){if(c.hasOwnProperty(d)){var f=c[d];delete c[d],e.apply(a,f)}return b[d]}function l(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=g(a.slice(0,e),b),a=a.slice(e+1),d=k(c),d&&d.normalize?a=d.normalize(a,i(b)):a=g(a,b)):a=g(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var b={},c={},d=[].slice,e,f;if(typeof define=="function")return;e=function(d,e,f,g){var i=[],m,n,o,p,q,r;g||(g=d);if(typeof f=="function"){!e.length&&f.length&&(e=["require","exports","module"]);for(p=0;p<e.length;p++){r=l(e[p],g),o=r.f;if(o==="require")i[p]=h(d);else if(o==="exports")i[p]=b[d]={},m=!0;else if(o==="module")n=i[p]={id:d,uri:"",exports:b[d]};else if(b.hasOwnProperty(o)||c.hasOwnProperty(o))i[p]=k(o);else{if(!r.p)throw d+" missing "+o;r.p.load(r.n,h(g,!0),j(o),{}),i[p]=b[o]}}q=f.apply(b[d],i),d&&(n&&n.exports!==a?b[d]=n.exports:m||(b[d]=q))}else d&&(b[d]=f)},requirejs=f=function(b,c,d,g){return typeof b=="string"?k(l(b,c).f):(b.splice||(c.splice?(b=c,c=arguments[2]):b=[]),g?e(a,b,c,d):setTimeout(function(){e(a,b,c,d)},15),f)},f.config=function(){return f},require||(require=f),define=function(a,b,d){b.splice||(d=b,b=[]),define.unordered?c[a]=[a,b,d]:e(a,b,d)},define.amd={jQuery:!0}})(),define("../ThirdParty/almond-0.0.3/almond.js",function(){}),define("Core/defaultValue",[],function(){var a=function(a,b){return typeof a!="undefined"?a:b};return a}),define("Core/DeveloperError",[],function(){var a=function(a){this.name="DeveloperError",this.message=a,this.error=new Error};return a.prototype.toString=function(){var a=this.name+": "+this.message;return typeof this.error!="undefined"&&(typeof this.error.stack!="undefined"?a+="\n"+this.error.stack.toString():a+="\n"+this.error.toString()),a},a}),define("Core/Math",["./defaultValue","./DeveloperError"],function(a,b){var c={};c.EPSILON1=.1,c.EPSILON2=.01,c.EPSILON3=.001,c.EPSILON4=1e-4,c.EPSILON5=1e-5,c.EPSILON6=1e-6,c.EPSILON7=1e-7,c.EPSILON8=1e-8,c.EPSILON9=1e-9,c.EPSILON10=1e-10,c.EPSILON11=1e-11,c.EPSILON12=1e-12,c.EPSILON13=1e-13,c.EPSILON14=1e-14,c.EPSILON15=1e-15,c.EPSILON16=1e-16,c.EPSILON17=1e-17,c.EPSILON18=1e-18,c.EPSILON19=1e-19,c.EPSILON20=1e-20,c.GRAVITATIONALPARAMETER=3986004418e5,c.sign=function(a){return a>0?1:a<0?-1:0},c.sinh=function(a){var b=Math.pow(Math.E,a),c=Math.pow(Math.E,-1*a);return(b-c)*.5},c.cosh=function(a){var b=Math.pow(Math.E,a),c=Math.pow(Math.E,-1*a);return(b+c)*.5},c.lerp=function(a,b,c){return(1-c)*a+c*b},c.PI=Math.PI,c.ONE_OVER_PI=1/Math.PI,c.PI_OVER_TWO=Math.PI*.5,c.PI_OVER_THREE=Math.PI/3,c.PI_OVER_FOUR=Math.PI/4,c.PI_OVER_SIX=Math.PI/6,c.THREE_PI_OVER_TWO=3*Math.PI*.5,c.TWO_PI=2*Math.PI,c.ONE_OVER_TWO_PI=1/(2*Math.PI),c.RADIANS_PER_DEGREE=Math.PI/180,c.DEGREES_PER_RADIAN=180/Math.PI,c.toRadians=function(a){return a*c.RADIANS_PER_DEGREE},c.toDegrees=function(a){return a*c.DEGREES_PER_RADIAN},c.convertLongitudeRange=function(a){var b=c.TWO_PI,d=a-Math.floor(a/b)*b;return d<-Math.PI?d+=b:d>=Math.PI&&(d-=b),d},c.negativePiToPi=function(a){var b=c.EPSILON10,d=c.PI,e=c.TWO_PI;while(a<-(d+b))a+=e;a<-d&&(a=-d);while(a>d+b)a-=e;return a>d&&(a=d),a},c.equalsEpsilon=function(a,b,c){return c=c||0,Math.abs(a-b)<=c};var d=[1];return c.factorial=function(a){if(typeof a!="number"||a<0)throw new b("A number greater than or equal to 0 is required.");var c=d.length;if(a>=c){var e=d[c-1];for(var f=c;f<=a;f++)d.push(e*f)}return d[a]},c.incrementWrap=function(c,d,e){e=a(e,0);if(d<=e)throw new b("Maximum value must be greater than minimum value.");return++c,c>d&&(c=e),c},c.isPowerOfTwo=function(a){if(typeof a!="number"||a<0)throw new b("A number greater than or equal to 0 is required.");var c=a|0;return c!==0&&(c&c-1)===0},c.clamp=function(a,b,c){return a<b?b:a>c?c:a},c}),define("Core/freezeObject",[],function(){var a=Object.freeze;return typeof a=="undefined"&&(a=function(a){return a}),a}),define("Core/Cartographic",["./defaultValue","./DeveloperError","./freezeObject","./Math"],function(a,b,c,d){var e=function(b,c,d){this.longitude=a(b,0),this.latitude=a(c,0),this.height=a(d,0)};return e.fromDegrees=function(b,c,f,g){return b=d.toRadians(a(b,0)),c=d.toRadians(a(c,0)),f=a(f,0),typeof g=="undefined"?new e(b,c,f):(g.longitude=b,g.latitude=c,g.height=f,g)},e.clone=function(a,c){if(typeof a=="undefined")throw new b("cartographic is required");return typeof c=="undefined"?new e(a.longitude,a.latitude,a.height):(c.longitude=a.longitude,c.latitude=a.latitude,c.height=a.height,c)},e.equals=function(a,b){return a===b||typeof a!="undefined"&&typeof b!="undefined"&&a.longitude===b.longitude&&a.latitude===b.latitude&&a.height===b.height},e.equalsEpsilon=function(a,c,d){if(typeof d!="number")throw new b("epsilon is required and must be a number.");return a===c||typeof a!="undefined"&&typeof c!="undefined"&&Math.abs(a.longitude-c.longitude)<=d&&Math.abs(a.latitude-c.latitude)<=d&&Math.abs(a.height-c.height)<=d},e.toString=function(a){if(typeof a=="undefined")throw new b("cartographic is required");return"("+a.longitude+", "+a.latitude+", "+a.height+")"},e.ZERO=c(new e(0,0,0)),e.prototype.clone=function(a){return e.clone(this,a)},e.prototype.equals=function(a){return e.equals(this,a)},e.prototype.equalsEpsilon=function(a,b){return e.equalsEpsilon(this,a,b)},e.prototype.toString=function(){return e.toString(this)},e}),define("Core/Cartesian3",["./defaultValue","./DeveloperError","./freezeObject"],function(a,b,c){var d=function(b,c,d){this.x=a(b,0),this.y=a(c,0),this.z=a(d,0)};d.fromSpherical=function(c,e){if(typeof c=="undefined")throw new b("spherical is required");typeof e=="undefined"&&(e=new d);var f=c.clock,g=c.cone,h=a(c.magnitude,1),i=h*Math.sin(g);return e.x=i*Math.cos(f),e.y=i*Math.sin(f),e.z=h*Math.cos(g),e},d.clone=function(a,c){if(typeof a=="undefined")throw new b("cartesian is required");return typeof c=="undefined"?new d(a.x,a.y,a.z):(c.x=a.x,c.y=a.y,c.z=a.z,c)},d.fromCartesian4=d.clone,d.getMaximumComponent=function(a){if(typeof a=="undefined")throw new b("cartesian is required");return Math.max(a.x,a.y,a.z)},d.getMinimumComponent=function(a){if(typeof a=="undefined")throw new b("cartesian is required");return Math.min(a.x,a.y,a.z)},d.magnitudeSquared=function(a){if(typeof a=="undefined")throw new b("cartesian is required");return a.x*a.x+a.y*a.y+a.z*a.z},d.magnitude=function(a){return Math.sqrt(d.magnitudeSquared(a))},d.normalize=function(a,c){if(typeof a=="undefined")throw new b("cartesian is required");var e=d.magnitude(a);return typeof c=="undefined"?new d(a.x/e,a.y/e,a.z/e):(c.x=a.x/e,c.y=a.y/e,c.z=a.z/e,c)},d.dot=function(a,c){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");return a.x*c.x+a.y*c.y+a.z*c.z},d.multiplyComponents=function(a,c,e){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");return typeof e=="undefined"?new d(a.x*c.x,a.y*c.y,a.z*c.z):(e.x=a.x*c.x,e.y=a.y*c.y,e.z=a.z*c.z,e)},d.add=function(a,c,e){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");return typeof e=="undefined"?new d(a.x+c.x,a.y+c.y,a.z+c.z):(e.x=a.x+c.x,e.y=a.y+c.y,e.z=a.z+c.z,e)},d.subtract=function(a,c,e){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");return typeof e=="undefined"?new d(a.x-c.x,a.y-c.y,a.z-c.z):(e.x=a.x-c.x,e.y=a.y-c.y,e.z=a.z-c.z,e)},d.multiplyByScalar=function(a,c,e){if(typeof a=="undefined")throw new b("cartesian is required");if(typeof c!="number")throw new b("scalar is required and must be a number.");return typeof e=="undefined"?new d(a.x*c,a.y*c,a.z*c):(e.x=a.x*c,e.y=a.y*c,e.z=a.z*c,e)},d.divideByScalar=function(a,c,e){if(typeof a=="undefined")throw new b("cartesian is required");if(typeof c!="number")throw new b("scalar is required and must be a number.");return typeof e=="undefined"?new d(a.x/c,a.y/c,a.z/c):(e.x=a.x/c,e.y=a.y/c,e.z=a.z/c,e)},d.negate=function(a,c){if(typeof a=="undefined")throw new b("cartesian is required");return typeof c=="undefined"?new d(-a.x,-a.y,-a.z):(c.x=-a.x,c.y=-a.y,c.z=-a.z,c)},d.abs=function(a,c){if(typeof a=="undefined")throw new b("cartesian is required");return typeof c=="undefined"?new d(Math.abs(a.x),Math.abs(a.y),Math.abs(a.z)):(c.x=Math.abs(a.x),c.y=Math.abs(a.y),c.z=Math.abs(a.z),c)};var e=new d;d.lerp=function(a,c,f,g){if(typeof a=="undefined")throw new b("start is required.");if(typeof c=="undefined")throw new b("end is required.");if(typeof f!="number")throw new b("t is required and must be a number.");return d.multiplyByScalar(c,f,e),g=d.multiplyByScalar(a,1-f,g),d.add(e,g,g)};var f=new d,g=new d;d.angleBetween=function(a,c){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");d.normalize(a,f),d.normalize(c,g);var e=d.dot(f,g),h=d.cross(f,g,f).magnitude();return Math.atan2(h,e)};var h=new d;return d.mostOrthogonalAxis=function(a,c){if(typeof a=="undefined")throw new b("cartesian is required.");var e=d.normalize(a,h);return d.abs(e,e),e.x<=e.y?e.x<=e.z?c=d.clone(d.UNIT_X,c):c=d.clone(d.UNIT_Z,c):e.y<=e.z?c=d.clone(d.UNIT_Y,c):c=d.clone(d.UNIT_Z,c),c},d.equals=function(a,b){return a===b||typeof a!="undefined"&&typeof b!="undefined"&&a.x===b.x&&a.y===b.y&&a.z===b.z},d.equalsEpsilon=function(a,c,d){if(typeof d!="number")throw new b("epsilon is required and must be a number.");return a===c||typeof a!="undefined"&&typeof c!="undefined"&&Math.abs(a.x-c.x)<=d&&Math.abs(a.y-c.y)<=d&&Math.abs(a.z-c.z)<=d},d.cross=function(a,c,e){if(typeof a=="undefined")throw new b("left is required");if(typeof c=="undefined")throw new b("right is required");var f=a.x,g=a.y,h=a.z,i=c.x,j=c.y,k=c.z,l=g*k-h*j,m=h*i-f*k,n=f*j-g*i;return typeof e=="undefined"?new d(l,m,n):(e.x=l,e.y=m,e.z=n,e)},d.ZERO=c(new d(0,0,0)),d.UNIT_X=c(new d(1,0,0)),d.UNIT_Y=c(new d(0,1,0)),d.UNIT_Z=c(new d(0,0,1)),d.prototype.getMaximumComponent=function(){return d.getMaximumComponent(this)},d.prototype.getMinimumComponent=function(){return d.getMinimumComponent(this)},d.prototype.clone=function(a){return d.clone(this,a)},d.prototype.magnitudeSquared=function(){return d.magnitudeSquared(this)},d.prototype.magnitude=function(){return d.magnitude(this)},d.prototype.normalize=function(a){return d.normalize(this,a)},d.prototype.dot=function(a){return d.dot(this,a)},d.prototype.multiplyComponents=function(a,b){return d.multiplyComponents(this,a,b)},d.prototype.add=function(a,b){return d.add(this,a,b)},d.prototype.subtract=function(a,b){return d.subtract(this,a,b)},d.prototype.multiplyByScalar=function(a,b){return d.multiplyByScalar(this,a,b)},d.prototype.divideByScalar=function(a,b){return d.divideByScalar(this,a,b)},d.prototype.negate=function(a){return d.negate(this,a)},d.prototype.abs=function(a){return d.abs(this,a)},d.prototype.lerp=function(a,b,c){return d.lerp(this,a,b,c)},d.prototype.angleBetween=function(a){return d.angleBetween(this,a)},d.prototype.mostOrthogonalAxis=function(a){return d.mostOrthogonalAxis(this,a)},d.prototype.equals=function(a){return d.equals(this,a)},d.prototype.equalsEpsilon=function(a,b){return d.equalsEpsilon(this,a,b)},d.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},d.prototype.cross=function(a,b){return d.cross(this,a,b)},d}),define("Core/Ellipsoid",["./freezeObject","./defaultValue","./DeveloperError","./Math","./Cartesian3","./Cartographic"],function(a,b,c,d,e,f){var g=function(a,d,f){a=b(a,0),d=b(d,0),f=b(f,0);if(a<0||d<0||f<0)throw new c("All radii components must be greater than or equal to zero.");this._radii=new e(a,d,f),this._radiiSquared=new e(a*a,d*d,f*f),this._radiiToTheFourth=new e(a*a*a*a,d*d*d*d,f*f*f*f),this._oneOverRadii=new e(a===0?0:1/a,d===0?0:1/d,f===0?0:1/f),this._oneOverRadiiSquared=new e(a===0?0:1/(a*a),d===0?0:1/(d*d),f===0?0:1/(f*f)),this._minimumRadius=Math.min(a,d,f),this._maximumRadius=Math.max(a,d,f)};g.fromCartesian3=function(a){return typeof a=="undefined"?new g:new g(a.x,a.y,a.z)},g.WGS84=a(new g(6378137,6378137,6356752.314245179)),g.UNIT_SPHERE=a(new g(1,1,1)),g.prototype.getRadii=function(){return this._radii},g.prototype.getRadiiSquared=function(){return this._radiiSquared},g.prototype.getRadiiToTheFourth=function(){return this._radiiToTheFourth},g.prototype.getOneOverRadii=function(){return this._oneOverRadii},g.prototype.getOneOverRadiiSquared=function(){return this._oneOverRadiiSquared},g.prototype.getMinimumRadius=function(){return this._minimumRadius},g.prototype.getMaximumRadius=function(){return this._maximumRadius},g.prototype.geocentricSurfaceNormal=e.normalize,g.prototype.geodeticSurfaceNormalCartographic=function(a,b){if(typeof a=="undefined")throw new c("cartographic is required.");var d=a.longitude,f=a.latitude,g=Math.cos(f),h=g*Math.cos(d),i=g*Math.sin(d),j=Math.sin(f);return typeof b=="undefined"&&(b=new e),b.x=h,b.y=i,b.z=j,e.normalize(b,b)},g.prototype.geodeticSurfaceNormal=function(a,b){return b=e.multiplyComponents(a,this._oneOverRadiiSquared,b),e.normalize(b,b)};var h=new e,i=new e;g.prototype.cartographicToCartesian=function(a,b){var c=h,d=i;this.geodeticSurfaceNormalCartographic(a,c),e.multiplyComponents(this._radiiSquared,c,d);var f=Math.sqrt(e.dot(c,d));return e.divideByScalar(d,f,d),e.multiplyByScalar(c,a.height,c),e.add(d,c,b)},g.prototype.cartographicArrayToCartesianArray=function(a,b){if(typeof a=="undefined")throw new c("cartographics is required.");var d=a.length;typeof b=="undefined"?b=new Array(d):b.length=d;for(var e=0;e<d;e++)b[e]=this.cartographicToCartesian(a[e],b[e]);return b};var j=new e,k=new e,l=new e;return g.prototype.cartesianToCartographic=function(a,b){var c=this.scaleToGeodeticSurface(a,k),g=this.geodeticSurfaceNormal(c,j),h=e.subtract(a,c,l),i=Math.atan2(g.y,g.x),m=Math.asin(g.z),n=d.sign(e.dot(h,a))*e.magnitude(h);return typeof b=="undefined"?new f(i,m,n):(b.longitude=i,b.latitude=m,b.height=n,b)},g.prototype.cartesianArrayToCartographicArray=function(a,b){if(typeof a=="undefined")throw new c("cartesians is required.");var d=a.length;typeof b=="undefined"?b=new Array(d):b.length=d;for(var e=0;e<d;++e)b[e]=this.cartesianToCartographic(a[e],b[e]);return b},g.prototype.scaleToGeodeticSurface=function(a,b){if(typeof a=="undefined")throw new c("cartesian is required.");var f=a.x,g=a.y,h=a.z,i=this._oneOverRadiiSquared,j=i.x,k=i.y,l=i.z,m=this._radiiSquared,n=m.x,o=m.y,p=m.z,q=this._radiiToTheFourth,r=q.x,s=q.y,t=q.z,u=1/Math.sqrt(f*f*j+g*g*k+h*h*l),v=u*f*j,w=u*g*k,x=u*h*l,y=Math.sqrt(v*v+w*w+x*x),z=(1-u)*(e.magnitude(a)/y),A=f*f,B=g*g,C=h*h,D=0,E=0,F=0,G=0,H=1;do{z-=G/H,D=1+z*j,E=1+z*k,F=1+z*l;var I=D*D,J=E*E,K=F*F,L=D*I,M=E*J,N=F*K;G=A/(n*I)+B/(o*J)+C/(p*K)-1,H=-2*(A/(r*L)+B/(s*M)+C/(t*N))}while(Math.abs(G)>d.EPSILON10);return v=f/D,w=g/E,x=h/F,typeof b=="undefined"?new e(v,w,x):(b.x=v,b.y=w,b.z=x,b)},g.prototype.scaleToGeocentricSurface=function(a,b){if(typeof a=="undefined")throw new c("cartesian is required.");var d=a.x,f=a.y,g=a.z,h=this._oneOverRadiiSquared,i=1/Math.sqrt(d*d*h.x+f*f*h.y+g*g*h.z);return e.multiplyByScalar(a,i,b)},g.prototype.transformPositionToScaledSpace=function(a,b){return e.multiplyComponents(a,this._oneOverRadii,b)},g.prototype.equals=function(a){return this===a||typeof a!="undefined"&&e.equals(this._radii,a._radii)},g.prototype.toString=function(){return this._radii.toString()},g}),define("Core/Extent",["./freezeObject","./defaultValue","./Ellipsoid","./Cartographic","./DeveloperError","./Math"],function(a,b,c,d,e,f){var g=function(a,c,d,e){this.west=b(a,0),this.south=b(c,0),this.east=b(d,0),this.north=b(e,0)};g.prototype.clone=function(a){return typeof a=="undefined"?new g(this.west,this.south,this.east,this.north):(a.west=this.west,a.south=this.south,a.east=this.east,a.north=this.north,a)},g.prototype.equals=function(a){return typeof a!="undefined"&&this.west===a.west&&this.south===a.south&&this.east===a.east&&this.north===a.north},g.prototype.equalsEpsilon=function(a,b){if(typeof b!="number")throw new e("epsilon is required and must be a number.");return typeof a!="undefined"&&Math.abs(this.west-a.west)<=b&&Math.abs(this.south-a.south)<=b&&Math.abs(this.east-a.east)<=b&&Math.abs(this.north-a.north)<=b},g.prototype.validate=function(){var a=this.north;if(typeof a!="number")throw new e("north is required to be a number.");if(a<-f.PI_OVER_TWO||a>f.PI_OVER_TWO)throw new e("north must be in the interval [-Pi/2, Pi/2].");var b=this.south;if(typeof b!="number")throw new e("south is required to be a number.");if(b<-f.PI_OVER_TWO||b>f.PI_OVER_TWO)throw new e("south must be in the interval [-Pi/2, Pi/2].");var c=this.west;if(typeof c!="number")throw new e("west is required to be a number.");if(c<-Math.PI||c>Math.PI)throw new e("west must be in the interval [-Pi, Pi].");var d=this.east;if(typeof d!="number")throw new e("east is required to be a number.");if(d<-Math.PI||d>Math.PI)throw new e("east must be in the interval [-Pi, Pi].")},g.prototype.getSouthwest=function(a){return typeof a=="undefined"?new d(this.west,this.south):(a.longitude=this.west,a.latitude=this.south,a.height=0,a)},g.prototype.getNorthwest=function(a){return typeof a=="undefined"?new d(this.west,this.north):(a.longitude=this.west,a.latitude=this.north,a.height=0,a)},g.prototype.getNortheast=function(a){return typeof a=="undefined"?new d(this.east,this.north):(a.longitude=this.east,a.latitude=this.north,a.height=0,a)},g.prototype.getSoutheast=function(a){return typeof a=="undefined"?new d(this.east,this.south):(a.longitude=this.east,a.latitude=this.south,a.height=0,a)},g.prototype.getCenter=function(a){return typeof a=="undefined"?new d((this.west+this.east)*.5,(this.south+this.north)*.5):(a.longitude=(this.west+this.east)*.5,a.latitude=(this.south+this.north)*.5,a.height=0,a)},g.prototype.intersectWith=function(a,b){if(typeof a=="undefined")throw new e("otherExtent is required.");var c=Math.max(this.west,a.west),d=Math.max(this.south,a.south),f=Math.min(this.east,a.east),h=Math.min(this.north,a.north);return typeof b=="undefined"?new g(c,d,f,h):(b.west=c,b.south=d,b.east=f,b.north=h,b)},g.prototype.contains=function(a){if(typeof a=="undefined")throw new e("cartographic is required.");return a.longitude>=this.west&&a.longitude<=this.east&&a.latitude>=this.south&&a.latitude<=this.north},g.prototype.isEmpty=function(){return this.west===this.east&&this.south===this.north};var h=new d;return g.prototype.subsample=function(a,d){a=b(a,c.WGS84),typeof d=="undefined"&&(d=[]);var e=0,g=this.north,i=this.south,j=this.east,k=this.west,l=h;l.longitude=k,l.latitude=g,d[e]=a.cartographicToCartesian(l,d[e]),e++,l.longitude=j,d[e]=a.cartographicToCartesian(l,d[e]),e++,l.latitude=i,d[e]=a.cartographicToCartesian(l,d[e]),e++,l.longitude=k,d[e]=a.cartographicToCartesian(l,d[e]),e++,g<0?l.latitude=g:i>0?l.latitude=i:l.latitude=0;for(var m=1;m<8;++m){var n=-Math.PI+m*f.PI_OVER_TWO;k<n&&n<j&&(l.longitude=n,d[e]=a.cartographicToCartesian(l,d[e]),e++)}return l.latitude===0&&(l.longitude=k,d[e]=a.cartographicToCartesian(l,d[e]),e++,l.longitude=j,d[e]=a.cartographicToCartesian(l,d[e]),e++),d.length=e,d},g.MAX_VALUE=a(new g(-Math.PI,-f.PI_OVER_TWO,Math.PI,f.PI_OVER_TWO)),g}),define("Core/Enumeration",[],function(){var a=function(a,b,c){this.value=a,this.name=b;if(typeof c!="undefined")for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d])};return a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return this.name},a}),define("Core/ComponentDatatype",["./Enumeration"],function(a){if(typeof Int8Array=="undefined")return{};var b={};return b.BYTE=new a(5120,"BYTE"),b.BYTE.sizeInBytes=Int8Array.BYTES_PER_ELEMENT,b.BYTE.toTypedArray=function(a){return new Int8Array(a)},b.BYTE.createArrayBufferView=function(a,b){return new Int8Array(a,b)},b.UNSIGNED_BYTE=new a(5121,"UNSIGNED_BYTE"),b.UNSIGNED_BYTE.sizeInBytes=Uint8Array.BYTES_PER_ELEMENT,b.UNSIGNED_BYTE.toTypedArray=function(a){return new Uint8Array(a)},b.UNSIGNED_BYTE.createArrayBufferView=function(a,b){return new Uint8Array(a,b)},b.SHORT=new a(5122,"SHORT"),b.SHORT.sizeInBytes=Int16Array.BYTES_PER_ELEMENT,b.SHORT.toTypedArray=function(a){return new Int16Array(a)},b.SHORT.createArrayBufferView=function(a,b){return new Int16Array(a,b)},b.UNSIGNED_SHORT=new a(5123,"UNSIGNED_SHORT"),b.UNSIGNED_SHORT.sizeInBytes=Uint16Array.BYTES_PER_ELEMENT,b.UNSIGNED_SHORT.toTypedArray=function(a){return new Uint16Array(a)},b.UNSIGNED_SHORT.createArrayBufferView=function(a,b){return new Uint16Array(a,b)},b.FLOAT=new a(5126,"FLOAT"),b.FLOAT.sizeInBytes=Float32Array.BYTES_PER_ELEMENT,b.FLOAT.toTypedArray=function(a){return new Float32Array(a)},b.FLOAT.createArrayBufferView=function(a,b){return new Float32Array(a,b)},b.validate=function(a){return a===b.BYTE||a===b.UNSIGNED_BYTE||a===b.SHORT||a===b.UNSIGNED_SHORT||a===b.FLOAT},b}),define("Core/PrimitiveType",["./Enumeration"],function(a){var b={POINTS:new a(0,"POINTS"),LINES:new a(1,"LINES"),LINE_LOOP:new a(2,"LINE_LOOP"),LINE_STRIP:new a(3,"LINE_STRIP"),TRIANGLES:new a(4,"TRIANGLES"),TRIANGLE_STRIP:new a(5,"TRIANGLE_STRIP"),TRIANGLE_FAN:new a(6,"TRIANGLE_FAN"),validate:function(a){return a===b.POINTS||a===b.LINES||a===b.LINE_LOOP||a===b.LINE_STRIP||a===b.TRIANGLES||a===b.TRIANGLE_STRIP||a===b.TRIANGLE_FAN}};return b}),define("Core/ExtentTessellator",["./defaultValue","./DeveloperError","./Math","./Ellipsoid","./Extent","./Cartesian3","./ComponentDatatype","./PrimitiveType"],function(a,b,c,d,e,f,g,h){var i={};return i.computeVertices=function(b){b=a(b,{});var c=b.extent,d=b.surfaceHeight,e=b.width,f=b.height,g=(c.east-c.west)/(e-1),h=(c.north-c.south)/(f-1),i=b.generateTextureCoordinates,j=b.interleaveTextureCoordinates,k=b.relativeToCenter,l=b.vertices,m=b.textureCoordinates,n=b.indices,o=b.radiiSquared,p=o.x,q=o.y,r=o.z,s=Math.cos,t=Math.sin,u=Math.sqrt,v=1/(c.east-c.west),w=1/(c.north-c.south),x=0,y=0;for(var z=0;z<f;++z){var A=c.north-h*z,B=s(A),C=t(A),D=r*C,E=(A-c.south)*w,F=E;for(var G=0;G<e;++G){var H=c.west+g*G,I=B*s(H),J=B*t(H),K=p*I,L=q*J,M=u(K*I+L*J+D*C),N=K/M,O=L/M,P=D/M;l[x++]=N+I*d-k.x,l[x++]=O+J*d-k.y,l[x++]=P+C*d-k.z;if(i){var Q=(H-c.west)*v,R=Q;j?(l[x++]=R,l[x++]=F):(m[y++]=R,m[y++]=F)}}}if(typeof n!="undefined"){var S=0,T=0;for(var U=0;U<f-1;++U){for(var V=0;V<e-1;++V){var W=S,X=W+e,Y=X+1,Z=W+1;n[T++]=W,n[T++]=X,n[T++]=Z,n[T++]=Z,n[T++]=X,n[T++]=Y,++S}++S}}},i.compute=function(b){b=a(b,{});var c=b.extent;c.validate();var e=a(b.ellipsoid,d.WGS84);b.radiiSquared=e.getRadiiSquared(),b.relativeToCenter=a(b.relativeToCenter,f.ZERO);var j=a(b.granularity,.1);b.surfaceHeight=a(b.surfaceHeight,0),b.width=Math.ceil((c.east-c.west)/j)+1,b.height=Math.ceil((c.north-c.south)/j)+1;var k=[],l=[],m=[];b.generateTextureCoordinates=a(b.generateTextureCoordinates,!1),b.interleaveTextureCoordinates=!1,b.vertices=k,b.textureCoordinates=m,b.indices=l,i.computeVertices(b);var n={attributes:{},indexLists:[{primitiveType:h.TRIANGLES,values:l}]},o=a(b.positionName,"position");n.attributes[o]={componentDatatype:g.FLOAT,componentsPerAttribute:3,values:k};if(b.generateTextureCoordinates){var p=a(b.textureCoordinatesName,"textureCoordinates");n.attributes[p]={componentDatatype:g.FLOAT,componentsPerAttribute:2,values:m}}return n},i.computeBuffers=function(b){b=a(b,{});var c=b.extent;c.validate();var e=a(b.ellipsoid,d.WGS84);b.radiiSquared=e.getRadiiSquared(),b.relativeToCenter=a(b.relativeToCenter,f.ZERO);var g=a(b.granularity,.1);b.surfaceHeight=a(b.surfaceHeight,0),b.width=Math.ceil((c.east-c.west)/g)+1,b.height=Math.ceil((c.north-c.south)/g)+1;var h=[],j=[],k=[];b.generateTextureCoordinates=a(b.generateTextureCoordinates,!1),b.interleaveTextureCoordinates=a(b.interleaveTextureCoordinates,!1),b.vertices=h,b.textureCoordinates=k,b.indices=j,i.computeVertices(b);var l={indices:j};return b.interleaveTextureCoordinates?l.vertices=h:(l.positions=h,b.generateTextureCoordinates&&(l.textureCoordinates=k)),l},i}),define("Workers/createTaskProcessorWorker",[],function(){var a=function(a){var b,c=[],d={id:undefined,result:undefined};return function(e){var f=e.data;d.id=f.id,c.length=0,d.result=a(f.parameters,c),typeof b=="undefined"&&(b=typeof self.webkitPostMessage!="undefined"?self.webkitPostMessage:self.postMessage),b(d,c)}};return a}),define("Workers/createVerticesFromExtent",["../Core/ExtentTessellator","./createTaskProcessorWorker"],function(a,b){function c(b,c){var d=new Float32Array(b.width*b.height*5);return c.push(d.buffer),b.vertices=d,b.generateTextureCoordinates=!0,b.interleaveTextureCoordinates=!0,a.computeVertices(b),d}return b(c)})